import{n as e,r as t,y as o}from"./lit-element-d78ce8b8.js";class n extends e{static styles=t`:host{color:red}`;static get properties(){return{name:{type:String},width:{type:String},value:{type:Number}}}constructor(){super()}show(){if(n.init)return;n.init=!0;var e=this;console.log("show:");const t=io.connect("https://webrtc.webduino.io/"),o=new Peer(void 0,{host:"peerjs.webduino.io",path:"/myapp",proxied:!0});o.on("open",(e=>{t.emit("join-room","nana",e)})),o.on("call",(t=>{console.log("on call");const o=document.createElement("video");t.answer(o.stream),t.on("stream",(t=>{const o=document.createElement("video");o.srcObject=t,o.addEventListener("loadedmetadata",(()=>{o.play()})),function t(){window.requestAnimationFrame(t),e.shadowRoot.firstElementChild.getContext("2d").drawImage(o,0,0,640,480)}()}))})),t.on("user-disconnected",(e=>{location.reload()}))}updated(){}render(){return o`<canvas width="640px" height="320px"></canvas>`}}customElements.define("web-rtc",n);export{n as web_rtc};
